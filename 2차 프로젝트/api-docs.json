{"openapi":"3.1.0","info":{"title":"API 서버","description":"API 서버 문서입니다.","version":"beta"},"servers":[{"url":"http://localhost:8080","description":"개발 서버"},{"url":"https://api.example.com","description":"운영 서버"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"입찰 관리","description":"## 경매 물품에 대한 입찰 등록 및 조회 API\n\n경매 물품에 대한 입찰 등록, 조회 및 **WebSocket 실시간 가격 갱신**을 담당합니다.\n\n### WebSocket 실시간 연동 가이드\n입찰이 발생하면 서버는 해당 경매를 보고 있는 모든 사용자에게 새로운 가격 정보를 브로드캐스팅합니다.\n\n| 단계 | 프로토콜 | API / Endpoint | 설명 |\n|:---:|:---:|:---|:---|\n| **1** | `WS` | **SUBSCRIBE** `/sub/v1/auctions/{auctionId}` | 경매 상세 페이지 진입 시 해당 경매 ID를 구독합니다. |\n| **2** | `HTTP` | **POST** `/api/v1/auctions/{auctionId}/bids` | 사용자가 새로운 입찰 요청을 보냅니다. |\n| **3** | `WS` | **MESSAGE** | 입찰 성공 시, 구독 중인 모든 클라이언트에게 `BidResponse` JSON이 전송됩니다. |\n"},{"name":"중고거래","description":"중고거래 게시글 등록, 조회, 수정, 삭제 및 상태 관리 API"},{"name":"회원 관리","description":"회원 가입, 로그인, 로그아웃, 수정, 탈퇴, 신고 관련 API"},{"name":"경매 관리","description":"경매 물품 등록, 조회, 수정, 삭제 및 낙찰 관련 API"},{"name":"채팅 관리","description":"## 실시간 1:1 채팅 시스템 API\n\n경매 및 게시글 기반의 채팅방 생성, 메시지 전송, 내역 조회 기능을 제공합니다.\n\n### WebSocket 실시간 연동 가이드\n이 시스템은 **HTTP(REST API)**와 **WebSocket(STOMP)**이 유기적으로 결합되어 동작합니다.\n\n| 단계 | 프로토콜 | API / Endpoint | 설명 |\n|:---:|:---:|:---|:---|\n| **1** | `HTTP` | **POST** `/api/v1/chat/room` | 채팅방을 생성하거나 기존 방의 `roomId`를 받아옵니다. |\n| **2** | `WS` | **SUBSCRIBE** `/sub/v1/chat/room/{roomId}` | 해당 `roomId`를 구독하여 실시간 메시지를 대기합니다. |\n| **3** | `HTTP` | **POST** `/api/v1/chat/send` | 메시지(텍스트/이미지)를 전송합니다. |\n| **4** | `WS` | **MESSAGE** | 서버가 구독자들에게 메시지를 브로드캐스팅합니다. |\n"}],"paths":{"/api/v1/posts":{"get":{"tags":["중고거래"],"summary":"목록 조회","description":"상태별 필터링이 가능한 페이징 목록입니다. 판매자의 **뱃지(Badge)** 정보가 포함됩니다.","operationId":"getList","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"name":"status","in":"query","description":"필터링할 상태 (all, sale, reserved, sold)","required":false,"schema":{"type":"string"},"example":"sale"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostPageResponse"}}}}}},"post":{"tags":["중고거래"],"summary":"중고거래 글 작성","description":"새로운 중고거래 게시글을 작성합니다. **제목(2-50자)**, **내용(10-1000자)** 제한이 있으며, **정지된 회원**은 등록이 차단됩니다.","operationId":"create","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/PostCreateRequest"}}}},"responses":{"201":{"description":"게시글 등록 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostIdResponse"}}}},"400":{"description":"입력값 유효성 검증 실패 (제목/내용 길이 등)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostIdResponse"}}}},"401":{"description":"로그인 필요 (401-1)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostIdResponse"}}}},"403":{"description":"정지 회원 활동 제한 (403-3)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostIdResponse"}}}},"404":{"description":"카테고리 정보 없음 (404-2)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostIdResponse"}}}}}}},"/api/v1/members":{"post":{"tags":["회원 관리"],"summary":"회원가입","operationId":"join","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberJoinReqBody"}}},"required":true},"responses":{"201":{"description":"회원가입 성공","content":{"application/json":{"example":{"resultCode":"200-1","msg":"유저1님 환영합니다.","data":{"item":{"id":3,"createDate":"2026-01-22T15:53:00.055929","modifyDate":"2026-01-22T15:53:00.057929","name":"유저1"}}}}}},"409":{"description":"잘못된 요청","content":{"application/json":{"example":{"resultCode":"409-1","msg":"%s(은)는 사용중인 닉네임입니다.","data":null}}}},"400":{"description":"잘못된 요청","content":{"application/json":{"example":{"resultCode":"400-1","msg":"비밀번호에 아이디를 포함할 수 없습니다","data":null}}}}}}},"/api/v1/members/{userId}/review":{"get":{"tags":["회원 관리"],"summary":"리뷰(판매자 평가) 가져오기","operationId":"getReviews","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReviewDto"}}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인 후 이용해주세요.","data":null}}}}}},"post":{"tags":["회원 관리"],"summary":"리뷰 남기기 (판매자 평가)","operationId":"review","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberReviewReqBody"}}},"required":true},"responses":{"201":{"description":"성공","content":{"application/json":{"example":{"resultCode":"201-1","msg":"후기 작성이 완료되었습니다.","data":null}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"403-3","msg":"정지된 회원은 해당 기능을 사용할 수 없습니다.","data":null}}}}}}},"/api/v1/members/login":{"post":{"tags":["회원 관리"],"summary":"로그인","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberLoginReqBody"}}},"required":true},"responses":{"200":{"description":"회원가입 성공","content":{"application/json":{"example":{"resultCode":"200-1","msg":"유저1님 환영합니다.","data":{"id":3,"createDate":"2026-01-22T15:53:00.055929","modifyDate":"2026-01-22T15:53:00.057929","name":"유저1"}}}}},"403":{"description":"잘못된 요청","content":{"application/json":{"example":{"resultCode":"403-4","msg":"탈퇴한 계정입니다.","data":null}}}},"400":{"description":"잘못된 요청","content":{"application/json":{"example":{"resultCode":"400-5","msg":"게정이 일시적으로 잠겼습니다.","data":null}}}},"401":{"description":"잘못된 요청","content":{"application/json":{"example":{"resultCode":"401-1","msg":"비밀번호가 일치하지 않습니다.","data":null}}}}}}},"/api/v1/chat/send":{"post":{"tags":["채팅 관리"],"summary":"메시지 전송 (텍스트/이미지)","description":"채팅방에 메시지를 전송합니다. 성공 시 WebSocket을 통해 구독자들에게 실시간 알림이 발송됩니다.\n\n**전송 방식 (Multipart/form-data)**:\n- **`message`**: 텍스트 메시지 (옵션)\n- **`images`**: 이미지 파일 리스트 (옵션, 다중 업로드 가능)\n- **주의**: 메시지와 이미지 중 적어도 하나는 포함되어야 합니다.\n","operationId":"sendMessage","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/ChatMessageRequest"}}}},"responses":{"200":{"description":"메시지 저장 및 발송 성공","content":{"application/json":{"examples":{"성공":{"description":"성공","value":{"resultCode":"200-1","msg":"메시지가 전송되었습니다.","data":{"chatId":105}}}}}}},"400":{"description":"유효성 검사 실패","content":{"application/json":{"examples":{"내용 없음":{"summary":"메시지와 이미지가 모두 비어있을 때","description":"내용 없음","value":{"resultCode":"400-1","msg":"메시지 내용이 없으면 최소 한 장의 이미지가 필요합니다.","data":null}},"파일 형식 오류":{"summary":"이미지가 아닌 파일을 업로드했을 때","description":"파일 형식 오류","value":{"resultCode":"400-2","msg":"지원하지 않는 파일 형식입니다.","data":null}}}}}},"404":{"description":"채팅방 없음","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 채팅방입니다.","data":null}}}}}}},"/api/v1/chat/room":{"post":{"tags":["채팅 관리"],"summary":"채팅방 생성 또는 입장","description":"특정 상품(경매품 또는 게시글)에 대한 1:1 채팅방을 개설하거나, 이미 존재하는 방의 정보를 반환합니다.\n\n**로직 설명**:\n- **기존 방 존재 시**: DB에 이미 판매자-구매자 간 해당 아이템의 방이 있다면 그 방의 `roomId`를 반환합니다.\n- **신규 생성 시**: 방이 없다면 새로 생성 후 `roomId`를 반환합니다.\n","operationId":"createRoom","parameters":[{"name":"itemId","in":"query","description":"대상 아이템 ID (경매 ID 또는 게시글 ID)","required":true,"schema":{"type":"integer","format":"int32"},"example":15},{"name":"txType","in":"query","description":"거래 유형 (반드시 대문자)","required":true,"schema":{"type":"string","enum":["AUCTION","POST"]},"example":"AUCTION"}],"responses":{"200":{"description":"성공 (신규 생성 또는 기존 방 조회)","content":{"application/json":{"examples":{"성공":{"description":"성공","value":{"resultCode":"200-1","msg":"채팅방이 생성되었습니다.","data":{"roomId":"550e8400-e29b-41d4-a716-446655440000"}}}}}}},"400":{"description":"잘못된 요청 파라미터","content":{"application/json":{"examples":{"지원하지 않는 거래 유형":{"description":"지원하지 않는 거래 유형","value":{"resultCode":"400-1","msg":"잘못된 거래 유형입니다. (AUCTION, POST 중 선택)","data":null}}}}}},"401":{"description":"인증 필요","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인이 필요합니다.","data":null}}}},"404":{"description":"대상 상품 없음","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 경매(또는 게시글)입니다.","data":null}}}}}}},"/api/v1/auctions":{"get":{"tags":["경매 관리"],"summary":"경매 물품 목록 조회","description":"경매 물품 목록을 페이징으로 조회합니다.","operationId":"getAuctions","parameters":[{"name":"page","in":"query","description":"페이지 번호","required":false,"schema":{"type":"integer","format":"int32","default":0},"example":0},{"name":"size","in":"query","description":"페이지 크기","required":false,"schema":{"type":"integer","format":"int32","default":20},"example":20},{"name":"sort","in":"query","description":"정렬","required":false,"schema":{"type":"string"},"example":"createdAt,desc"},{"name":"category","in":"query","description":"카테고리","required":false,"schema":{"type":"string"},"example":"디지털기기"},{"name":"status","in":"query","description":"상태","required":false,"schema":{"type":"string"},"example":"OPEN"}],"responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataAuctionPageResponse"}}}},"400":{"description":"잘못된 파라미터","content":{"application/json":{"example":{"resultCode":"400-1","msg":"페이지 번호는 0 이상이어야 합니다.","data":null}}}}}},"post":{"tags":["경매 관리"],"summary":"경매 물품 등록","description":"새로운 경매 물품을 등록합니다.\n\n**Content-Type**: multipart/form-data (이미지 업로드 포함)\n\n**필수 필드**:\n- name: 물품명\n- description: 설명\n- startPrice: 시작가\n- categoryId: 카테고리 ID\n- durationHours: 경매 진행 시간(시간 단위)\n\n**선택 필드**:\n- buyNowPrice: 즉시구매가\n- images: 이미지 파일들 (최대 10개)\n","operationId":"createAuction","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/AuctionCreateRequest"}}}},"responses":{"201":{"description":"경매 등록 성공","content":{"application/json":{"example":{"resultCode":"201-1","msg":"경매 물품이 등록되었습니다.","data":{"auctionId":123,"message":"경매 물품이 등록되었습니다."}}}}},"400":{"description":"잘못된 요청","content":{"application/json":{"example":{"resultCode":"400-2","msg":"즉시구매가는 시작가보다 높아야 합니다.","data":null}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인이 필요합니다.","data":null}}}},"404":{"description":"존재하지 않는 카테고리","content":{"application/json":{"example":{"resultCode":"404-2","msg":"존재하지 않는 카테고리입니다.","data":null}}}}}}},"/api/v1/auctions/{auctionId}/cancel":{"post":{"tags":["경매 관리"],"summary":"낙찰 거래 취소","description":"낙찰 완료된 거래를 취소합니다. 판매자 또는 낙찰자만 취소할 수 있습니다.","operationId":"cancelTrade","parameters":[{"name":"auctionId","in":"path","description":"경매 ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"거래 취소 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataVoid"}}}},"400":{"description":"낙찰 완료되지 않은 경매","content":{"application/json":{"example":{"resultCode":"400-1","msg":"낙찰 완료된 경매만 취소할 수 있습니다.","data":null}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인이 필요합니다.","data":null}}}},"403":{"description":"권한 없음","content":{"application/json":{"example":{"resultCode":"403-1","msg":"거래를 취소할 권한이 없습니다.","data":null}}}},"404":{"description":"존재하지 않는 경매","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 경매입니다.","data":null}}}}}}},"/api/v1/auctions/{auctionId}/bids":{"get":{"tags":["입찰 관리"],"summary":"경매 입찰 내역 조회","description":"특정 경매에 대한 입찰 내역을 최신순으로 조회합니다.","operationId":"getBids","parameters":[{"name":"auctionId","in":"path","description":"경매 ID","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"page","in":"query","description":"페이지 번호","required":false,"schema":{"type":"integer","format":"int32","default":0},"example":0},{"name":"size","in":"query","description":"페이지 크기","required":false,"schema":{"type":"integer","format":"int32","default":20},"example":20}],"responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataBidPageResponse"}}}},"404":{"description":"존재하지 않는 경매","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 경매입니다.","data":null}}}}}},"post":{"tags":["입찰 관리"],"summary":"입찰하기","description":"경매 물품에 입찰합니다.\n\n**입찰 규칙**:\n- 현재 최고가보다 높아야 합니다\n- 현재가의 150%를 초과할 수 없습니다\n- 즉시구매가를 초과할 수 없습니다\n- 자신의 경매에는 입찰할 수 없습니다\n- 이미 최고가 입찰자인 경우 연속 입찰 불가\n- **즉시구매가와 동일한 금액 입찰 시 즉시 낙찰됩니다**\n","operationId":"createBid","parameters":[{"name":"auctionId","in":"path","description":"경매 ID","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BidCreateRequest"}}},"required":true},"responses":{"200":{"description":"입찰 성공 또는 즉시구매 성공 (실시간 알림 발송됨)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataBidResponse"}}}},"400":{"description":"입찰 규칙 위반","content":{"application/json":{"examples":{"진행 중인 경매 아님":{"description":"진행 중인 경매 아님","value":{"resultCode":"400-1","msg":"진행 중인 경매가 아닙니다.","data":null}},"경매 종료":{"description":"경매 종료","value":{"resultCode":"400-2","msg":"종료된 경매입니다.","data":null}},"입찰가 부족":{"description":"입찰가 부족","value":{"resultCode":"400-3","msg":"입찰가는 현재 최고가(200,000원)보다 높아야 합니다.","data":null}},"입찰가 초과":{"description":"입찰가 초과","value":{"resultCode":"400-4","msg":"입찰가는 현재가의 150% (300,000원)를 초과할 수 없습니다.","data":null}},"즉시구매가 초과":{"description":"즉시구매가 초과","value":{"resultCode":"400-5","msg":"입찰가는 즉시구매가(250,000원)를 초과할 수 없습니다.","data":null}},"연속 입찰 시도":{"description":"연속 입찰 시도","value":{"resultCode":"400-6","msg":"이미 최고가 입찰자입니다. 다른 입찰자가 입찰할 때까지 기다려주세요.","data":null}}}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인이 필요합니다.","data":null}}}},"403":{"description":"본인 경매 입찰 시도","content":{"application/json":{"example":{"resultCode":"403-1","msg":"자신의 경매에는 입찰할 수 없습니다.","data":null}}}},"404":{"description":"존재하지 않는 경매","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 경매입니다.","data":null}}}}}}},"/api/v1/posts/{id}":{"get":{"tags":["중고거래"],"summary":"상세 조회","description":"게시글의 상세 정보를 조회합니다. 판매자의 **신용 점수(Score)**가 함께 반환됩니다.","operationId":"getDetail","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostDetailResponse"}}}}}},"delete":{"tags":["중고거래"],"summary":"게시글 삭제","description":"게시글을 삭제 처리합니다. (논리적 삭제 적용)","operationId":"delete","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostIdResponse"}}}}}},"patch":{"tags":["중고거래"],"summary":"게시글 수정","description":"기존 게시글의 제목, 내용, 가격 등을 수정합니다. 기존 이미지를 유지하거나 새 이미지를 추가할 수 있습니다.","operationId":"modify","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/PostUpdateRequest"}}}},"responses":{"200":{"description":"수정 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostIdResponse"}}}},"403":{"description":"본인 글만 수정 가능 (403-1) / 정지 회원 차단 (403-3)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostIdResponse"}}}}}}},"/api/v1/posts/{id}/status":{"patch":{"tags":["중고거래"],"summary":"게시글 상태 변경","description":"상품의 상태(SALE, RESERVED, SOLD)를 변경합니다.","operationId":"updateStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostStatusRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostIdResponse"}}}}}}},"/api/v1/members/{userId}/credit":{"patch":{"tags":["회원 관리"],"summary":"신고 시 사용자 신용도 감소","operationId":"decrease","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"수정 성공","content":{"application/json":{"example":{"resultCode":"200-1","msg":"신고가 완료되었습니다.","data":null}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인 후 이용해주세요.","data":null}}}},"403":{"description":"실패","content":{"application/json":{"example":{"resultCode":"403-1","msg":"해당 회원에 대한 신고 횟수를 초과했습니다.","data":null}}}},"400":{"description":"실패","content":{"application/json":{"example":{"resultCode":"400-6","msg":"이미 신고한 회원입니다.","data":null}}}}}}},"/api/v1/members/me/withdraw":{"patch":{"tags":["회원 관리"],"summary":"회원 탈퇴","operationId":"withdraw","responses":{"200":{"description":"탈퇴 성공","content":{"application/json":{"example":{"resultCode":"200-1","msg":"탙퇴가 정상적으로 처리되었습니다.","data":null}}}},"404":{"description":"잘못된 요청","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 회원입니다.","data":null}}}},"400":{"description":"잘못된 요청","content":{"application/json":{"example":{"resultCode":"400-3","msg":"탈퇴한 계정입니다.","data":null}}}}}}},"/api/v1/members/me/password":{"patch":{"tags":["회원 관리"],"summary":"비밀번호 수정","operationId":"modifyPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberPwModifyReqBody"}}},"required":true},"responses":{"200":{"description":"수정 성공","content":{"application/json":{"example":{"resultCode":"200-1","msg":"수정이 완료되었습니다.","data":null}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"비밀번호가 일치하지 않습니다.","data":null}}}}}}},"/api/v1/members/me/nickname":{"patch":{"tags":["회원 관리"],"summary":"닉네임 수정","operationId":"modifyNickname","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MemberNameModifyReqBody"}}},"required":true},"responses":{"200":{"description":"수정 성공","content":{"application/json":{"example":{"resultCode":"200-1","msg":"수정이 완료되었습니다.","data":null}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인 후 이용해주세요.","data":null}}}}}}},"/api/v1/chat/room/{roomId}/exit":{"patch":{"tags":["채팅 관리"],"summary":"채팅방 나가기","description":"특정 채팅방에서 퇴장합니다. 상대방에게는 알림이 갈 수도 있습니다(구현 여부에 따름).\n\n**삭제 정책 (Logical Delete)**:\n- **한 명만 나갔을 때**: 나간 사용자의 채팅 목록에서는 사라지지만, 상대방은 여전히 대화 내용을 볼 수 있습니다.\n- **두 명 모두 나갔을 때**: DB에서 채팅방 데이터와 메시지가 **완전히 삭제(Hard Delete)**됩니다.\n","operationId":"exitRoom","parameters":[{"name":"roomId","in":"path","description":"채팅방 UUID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"퇴장 처리 성공","content":{"application/json":{"example":{"resultCode":"200-1","msg":"채팅방에서 퇴장하였습니다.","data":null}}}},"404":{"description":"존재하지 않는 방","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 채팅방입니다.","data":null}}}},"403":{"description":"권한 없음","content":{"application/json":{"example":{"resultCode":"403-1","msg":"해당 채팅방에 접근 권한이 없습니다.","data":null}}}}}}},"/api/v1/auctions/{auctionId}":{"get":{"tags":["경매 관리"],"summary":"경매 물품 상세 조회","description":"특정 경매 물품의 상세 정보를 조회합니다.","operationId":"getAuctionDetail","parameters":[{"name":"auctionId","in":"path","description":"경매 ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"조회 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataAuctionDetailResponse"}}}},"404":{"description":"존재하지 않는 경매","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 경매입니다.","data":null}}}}}},"delete":{"tags":["경매 관리"],"summary":"경매 물품 삭제","description":"경매 물품을 삭제합니다. 입찰이 있는 경우 신용도가 감소합니다.","operationId":"deleteAuction","parameters":[{"name":"auctionId","in":"path","description":"경매 ID","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"삭제 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataAuctionDeleteResponse"}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인이 필요합니다.","data":null}}}},"403":{"description":"권한 없음","content":{"application/json":{"example":{"resultCode":"403-1","msg":"경매를 삭제할 권한이 없습니다.","data":null}}}},"404":{"description":"존재하지 않는 경매","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 경매입니다.","data":null}}}}}},"patch":{"tags":["경매 관리"],"summary":"경매 물품 수정","description":"경매 물품 정보를 수정합니다.\n\n**Content-Type**: multipart/form-data\n\n**제한사항**: 입찰이 발생한 후에는 수정이 불가능합니다.\n","operationId":"updateAuction","parameters":[{"name":"auctionId","in":"path","description":"경매 ID","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/AuctionUpdateRequest"}}}},"responses":{"200":{"description":"수정 성공","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataAuctionUpdateResponse"}}}},"400":{"description":"입찰 발생 후 수정 시도","content":{"application/json":{"example":{"resultCode":"400-1","msg":"입찰이 발생한 경매는 수정할 수 없습니다.","data":null}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인이 필요합니다.","data":null}}}},"403":{"description":"권한 없음","content":{"application/json":{"example":{"resultCode":"403-1","msg":"본인의 경매만 수정할 수 있습니다.","data":null}}}},"404":{"description":"존재하지 않는 경매","content":{"application/json":{"example":{"resultCode":"404-1","msg":"존재하지 않는 경매입니다.","data":null}}}}}}},"/api/v1/search":{"get":{"tags":["search-controller"],"operationId":"search","parameters":[{"name":"keyword","in":"query","required":true,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataSearchResponse"}}}}}}},"/api/v1/members/me":{"get":{"tags":["회원 관리"],"summary":"내 정보 조회","operationId":"me","responses":{"200":{"description":"조회 성공","content":{"application/json":{"example":{"id":6,"createDate":"2026-01-22T15:53:00.332242","modifyDate":"2026-01-22T15:53:00.334658","name":"유저4","username":"user4","score":50.0}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인 후 이용해주세요.","data":null}}}}}}},"/api/v1/members/me/posts":{"get":{"tags":["회원 관리"],"summary":"내 거래 조회","operationId":"getPostsById","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"name":"status","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataPostPageResponse"}}}}}}},"/api/v1/members/me/auctions":{"get":{"tags":["회원 관리"],"summary":"내 경매 조회","operationId":"getAuctionsById","parameters":[{"name":"page","in":"query","description":"페이지 번호","required":false,"schema":{"type":"integer","format":"int32","default":0},"example":0},{"name":"size","in":"query","description":"페이지 크기","required":false,"schema":{"type":"integer","format":"int32","default":20},"example":20},{"name":"sort","in":"query","description":"정렬","required":false,"schema":{"type":"string"},"example":"createdAt,desc"},{"name":"status","in":"query","description":"상태","required":false,"schema":{"type":"string"},"example":"OPEN"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RsDataAuctionPageResponse"}}}}}}},"/api/v1/chat/room/{roomId}":{"get":{"tags":["채팅 관리"],"summary":"채팅 내역 조회 (무한 스크롤 최적화)","description":"특정 채팅방의 대화 내역을 **No-Offset 페이징** 방식으로 조회합니다.\n사용자가 채팅창 상단으로 스크롤할 때 과거 내역을 불러오기에 최적화되어 있습니다.\n\n**페이징 가이드**:\n1. **최초 진입**: `lastChatId` 없이 요청 -> 최신 메시지 20개를 시간순(ASC)으로 반환합니다.\n2. **이전 대화 불러오기**: 받은 리스트의 **첫 번째(Index 0, 가장 오래된) 메시지 ID**를 `lastChatId` 파라미터에 넣어 요청합니다.\n3. **종료 조건**: 반환된 데이터(`data`)가 빈 배열 `[]`이면 더 이상 과거 내역이 없는 것입니다.\n","operationId":"getMessages","parameters":[{"name":"roomId","in":"path","description":"채팅방 UUID","required":true,"schema":{"type":"string"}},{"name":"lastChatId","in":"query","description":"현재 클라이언트가 가진 가장 오래된 메시지 ID. 이 ID보다 과거의 데이터를 조회합니다.","required":false,"schema":{"type":"integer","format":"int32"},"example":100}],"responses":{"200":{"description":"조회 성공 (메시지는 항상 시간순(ASC)으로 정렬되어 반환됩니다)","content":{"application/json":{"examples":{"성공_데이터있음":{"description":"성공_데이터있음","value":{"resultCode":"200-1","msg":"메시지 목록 조회 성공","data":[{"id":80,"message":"이 메시지가 현재 리스트 중 가장 오래된 것 (다음 요청 시 lastChatId=80)","createDate":"2024-02-21T14:00:00"},{"id":81,"message":"그 다음 메시지","createDate":"2024-02-21T14:01:00"},{"id":99,"message":"이 리스트 중 가장 최신 메시지","createDate":"2024-02-21T14:05:00"}]}},"성공_데이터없음":{"summary":"더 이상 불러올 과거 메시지가 없을 때","description":"성공_데이터없음","value":{"resultCode":"200-1","msg":"메시지 목록 조회 성공","data":[]}}}}}},"403":{"description":"접근 권한 없음","content":{"application/json":{"example":{"resultCode":"403-1","msg":"해당 채팅방에 접근 권한이 없습니다.","data":null}}}}}}},"/api/v1/chat/list":{"get":{"tags":["채팅 관리"],"summary":"내 채팅방 목록 조회","description":"내가 참여하고 있는 모든 채팅방 목록을 최신순으로 조회합니다.\n\n**포함 정보**:\n- 상대방 정보 (닉네임, 프로필 이미지)\n- 마지막 메시지 내용 및 시간\n- 읽지 않은 메시지 개수 (`unreadCount`)\n- 관련 아이템 정보 (이름, 가격, 이미지, 거래 유형)\n","operationId":"getChatList","responses":{"200":{"description":"목록 반환 성공","content":{"application/json":{"examples":{"기본 예시":{"description":"기본 예시","value":{"resultCode":"200-1","msg":"채팅 목록 조회 성공","data":[{"roomId":"550e8400...","opponentId":5,"opponentNickname":"거래왕","opponentProfileImageUrl":"https://k.kakaocdn.net/...","lastMessage":"내일 2시에 뵐게요","lastMessageDate":"2024-02-21T15:30:00","unreadCount":1,"itemId":10,"itemName":"아이패드 프로","itemImageUrl":"https://myshop.com/item.jpg","itemPrice":850000,"txType":"AUCTION"}]}}}}}}}}},"/api/v1/members/logout":{"delete":{"tags":["회원 관리"],"summary":"로그아웃","operationId":"logout","responses":{"200":{"description":"로그아웃 성공","content":{"application/json":{"example":{"resultCode":"200-1","msg":"로그아웃 되었습니다.","data":null}}}},"401":{"description":"인증 실패","content":{"application/json":{"example":{"resultCode":"401-1","msg":"로그인 후 이용해주세요.","data":null}}}}}}}},"components":{"schemas":{"PostCreateRequest":{"type":"object","properties":{"title":{"type":"string","description":"게시글 제목 (2자 이상 50자 이하)","example":"아이폰 15 프로 128G 블랙","maxLength":50,"minLength":2},"content":{"type":"string","description":"게시글 상세 내용 (10자 이상 1000자 이하)","example":"구매한지 3개월 됐고 상태 좋습니다.","maxLength":1000,"minLength":10},"price":{"type":"integer","format":"int32","description":"판매 가격 (0원 이상)","example":950000,"minimum":0},"categoryId":{"type":"integer","format":"int32","description":"카테고리 ID","example":1},"images":{"type":"array","items":{"type":"string","format":"binary"}}},"required":["categoryId","content","title"]},"PostIdResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"message":{"type":"string"}}},"RsDataPostIdResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/PostIdResponse"}}},"MemberJoinReqBody":{"type":"object","properties":{"username":{"type":"string","maxLength":20,"minLength":5,"pattern":"^[^\\s]+$"},"password":{"type":"string","maxLength":20,"minLength":8},"nickname":{"type":"string","maxLength":30,"minLength":2}},"required":["password","username"]},"MemberReviewReqBody":{"type":"object","properties":{"star":{"type":"integer","format":"int32"},"comment":{"type":"string"}},"required":["star"]},"MemberLoginReqBody":{"type":"object","properties":{"username":{"type":"string","maxLength":30,"minLength":2},"password":{"type":"string","maxLength":30,"minLength":2}},"required":["password","username"]},"ChatMessageRequest":{"type":"object","properties":{"roomId":{"type":"string","minLength":1},"message":{"type":"string"},"images":{"type":"array","items":{"type":"string","format":"binary"}},"messageOrImageExist":{"type":"boolean"}},"required":["roomId"]},"AuctionCreateRequest":{"type":"object","properties":{"name":{"type":"string","minLength":1},"description":{"type":"string","minLength":1},"startPrice":{"type":"integer","format":"int32","minimum":0},"buyNowPrice":{"type":"integer","format":"int32","minimum":0},"categoryId":{"type":"integer","format":"int32"},"durationHours":{"type":"integer","format":"int32","minimum":1},"images":{"type":"array","items":{"type":"string","format":"binary"}}},"required":["categoryId","description","name","startPrice"]},"RsDataVoid":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{}}},"BidCreateRequest":{"type":"object","properties":{"price":{"type":"integer","format":"int32","minimum":1}},"required":["price"]},"BidResponse":{"type":"object","properties":{"bidId":{"type":"integer","format":"int32"},"auctionId":{"type":"integer","format":"int32"},"bidderId":{"type":"integer","format":"int32"},"bidderNickname":{"type":"string"},"price":{"type":"integer","format":"int32"},"currentHighestBid":{"type":"integer","format":"int32"},"bidCount":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"buyNow":{"type":"boolean"}}},"RsDataBidResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/BidResponse"}}},"PostUpdateRequest":{"type":"object","properties":{"title":{"type":"string","minLength":1},"content":{"type":"string","minLength":1},"price":{"type":"integer","format":"int32","minimum":0},"categoryId":{"type":"integer","format":"int32"},"images":{"type":"array","items":{"type":"string","format":"binary"}},"keepImageUrls":{"type":"array","items":{"type":"string"}}},"required":["categoryId","content","title"]},"PostStatusRequest":{"type":"object","properties":{"status":{"type":"string","enum":["SALE","RESERVED","SOLD"]}}},"MemberPwModifyReqBody":{"type":"object","properties":{"password":{"type":"string","maxLength":30,"minLength":2},"newPassword":{"type":"string","maxLength":30,"minLength":2},"checkPassword":{"type":"string","maxLength":30,"minLength":2}},"required":["checkPassword","newPassword","password"]},"MemberNameModifyReqBody":{"type":"object","properties":{"nickname":{"type":"string","maxLength":30,"minLength":2}},"required":["nickname"]},"AuctionUpdateRequest":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"startPrice":{"type":"integer","format":"int32","minimum":0},"buyNowPrice":{"type":"integer","format":"int32","minimum":0},"endAt":{"type":"string","format":"date-time"},"images":{"type":"array","items":{"type":"string","format":"binary"}},"keepImageUrls":{"type":"array","items":{"type":"string"}}}},"AuctionUpdateResponse":{"type":"object","properties":{"auctionId":{"type":"integer","format":"int32"},"message":{"type":"string"}}},"RsDataAuctionUpdateResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/AuctionUpdateResponse"}}},"Pageable":{"type":"object","properties":{"page":{"type":"integer","format":"int32","minimum":0},"size":{"type":"integer","format":"int32","minimum":1},"sort":{"type":"array","items":{"type":"string"}}}},"RsDataSearchResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/SearchResponse"}}},"SearchResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/UnifiedSearchResponse"}},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}}},"UnifiedSearchResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"type":{"type":"string"},"title":{"type":"string"},"price":{"type":"integer","format":"int32"},"status":{"type":"string"},"statusDisplayName":{"type":"string"},"categoryName":{"type":"string"},"thumbnailUrl":{"type":"string"},"createDate":{"type":"string","format":"date-time"},"viewCount":{"type":"integer","format":"int64"},"sellerId":{"type":"integer","format":"int32"},"sellerNickname":{"type":"string"},"sellerBadge":{"type":"string"}}},"PostListResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"title":{"type":"string"},"price":{"type":"integer","format":"int32"},"categoryName":{"type":"string"},"thumbnailUrl":{"type":"string"},"createDate":{"type":"string","format":"date-time"},"status":{"type":"string"},"statusDisplayName":{"type":"string"},"viewCount":{"type":"integer","format":"int64"},"sellerId":{"type":"integer","format":"int32"},"sellerNickname":{"type":"string"},"sellerBadge":{"type":"string","description":"판매자 등급 뱃지 (안전/우수/일반/주의)","example":"안전한 판매자"}}},"PostPageResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/PostListResponse"}},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"currentStatusFilter":{"type":"string"}}},"RsDataPostPageResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/PostPageResponse"}}},"PostDetailResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"title":{"type":"string"},"content":{"type":"string"},"price":{"type":"integer","format":"int32"},"status":{"type":"string"},"categoryName":{"type":"string"},"sellerId":{"type":"integer","format":"int32"},"sellerNickname":{"type":"string"},"sellerBadge":{"type":"string","description":"판매자 등급 뱃지 (안전/우수/일반/주의)","example":"안전한 판매자"},"sellerScore":{"type":"number","format":"double","description":"판매자 실제 신용 점수 (상세에서만 노출)","example":85.5},"imageUrls":{"type":"array","items":{"type":"string"}},"createDate":{"type":"string","format":"date-time"},"viewCount":{"type":"integer","format":"int64"}}},"RsDataPostDetailResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/PostDetailResponse"}}},"ReviewDto":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"createDate":{"type":"string","format":"date-time"},"modifyDate":{"type":"string","format":"date-time"},"score":{"type":"integer","format":"int32"},"comment":{"type":"string"},"memberId":{"type":"integer","format":"int32"},"reviewerId":{"type":"integer","format":"int32"}}},"AuctionListItemDto":{"type":"object","properties":{"auctionId":{"type":"integer","format":"int32"},"name":{"type":"string"},"thumbnailUrl":{"type":"string"},"startPrice":{"type":"integer","format":"int32"},"currentHighestBid":{"type":"integer","format":"int32"},"buyNowPrice":{"type":"integer","format":"int32"},"status":{"type":"string","enum":["OPEN","CLOSED","COMPLETED","CANCELLED"]},"endAt":{"type":"string","format":"date-time"},"bidCount":{"type":"integer","format":"int32"},"seller":{"$ref":"#/components/schemas/SellerDto"},"categoryName":{"type":"string"}}},"AuctionPageResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/AuctionListItemDto"}},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}}},"RsDataAuctionPageResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/AuctionPageResponse"}}},"SellerDto":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"nickname":{"type":"string"},"reputationScore":{"type":"number","format":"double"}}},"AuctionDetailResponse":{"type":"object","properties":{"auctionId":{"type":"integer","format":"int32"},"name":{"type":"string"},"description":{"type":"string"},"startPrice":{"type":"integer","format":"int32"},"currentHighestBid":{"type":"integer","format":"int32"},"buyNowPrice":{"type":"integer","format":"int32"},"bidCount":{"type":"integer","format":"int32"},"status":{"type":"string","enum":["OPEN","CLOSED","COMPLETED","CANCELLED"]},"startAt":{"type":"string","format":"date-time"},"endAt":{"type":"string","format":"date-time"},"imageUrls":{"type":"array","items":{"type":"string"}},"seller":{"$ref":"#/components/schemas/SellerDto"},"categoryName":{"type":"string"},"winnerId":{"type":"integer","format":"int32"},"closedAt":{"type":"string","format":"date-time"},"cancelledBy":{"type":"integer","format":"int32"},"cancellerRole":{"type":"string","enum":["SELLER","BUYER"]},"cancellerRoleDescription":{"type":"string"}}},"RsDataAuctionDetailResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/AuctionDetailResponse"}}},"BidListItemDto":{"type":"object","properties":{"bidId":{"type":"integer","format":"int32"},"bidderId":{"type":"integer","format":"int32"},"bidderNickname":{"type":"string"},"price":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"BidPageResponse":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/BidListItemDto"}},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}}},"RsDataBidPageResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/BidPageResponse"}}},"AuctionDeleteResponse":{"type":"object","properties":{"message":{"type":"string"}}},"RsDataAuctionDeleteResponse":{"type":"object","properties":{"resultCode":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/AuctionDeleteResponse"}}}},"securitySchemes":{"bearerAuth":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}